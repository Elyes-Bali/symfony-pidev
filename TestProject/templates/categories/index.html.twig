{% extends 'base.html.twig' %}

{% block title %}Categories index{% endblock %}

{% block body %}
    <h1 class="mb-4">Categories Index</h1>

        <input type="text" id="myInput" name="q" placeholder="Entrez votre recherche...">

    <table class="table table-striped table-bordered" >
        <thead class="thead-dark">
            <tr>
                <th scope="col">Num√©ro</th>
                <th scope="col">Nom</th>
                <th scope="col">Description</th>
                <th scope="col">Actions</th>
            </tr>
        </thead>
        <tbody id="myTable">
        {% for category in categories %}
        
            <tr>
                <td>{{ category.id }}</td>
                <td>{{ category.nom }}</td>
                <td>{{ category.description }}</td>
                <td>
                    <a href="{{ path('app_categories_show', {'id': category.id}) }}" class="btn btn-info btn-sm">Show</a>
                    <a href="{{ path('app_categories_edit', {'id': category.id}) }}" class="btn btn-warning btn-sm">Edit</a>
                    <a href="{{ path('app_categories_delete', {'id': category.id}) }}" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure you want to delete this category?')">Delete</a>
                
                        <i class="bi bi-upc-scan"></i>
                    </a>
                </td>

            </tr>
        {% else %}
            <tr>
                <td colspan="4">No records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('app_categories_new') }}" class="btn btn-success">Create New</a>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>
  $(document).ready(function(){

    $("#myInput").on("keyup", function() {
      var value = $(this).val().toLowerCase();

      $("#myTable tr").filter(function() {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
      });
    });

  });
</script>
{% endblock %}
